version: 2
name: resonant_memory_field_demo
notes: >
  Recipe: Resonant Memory Field (RMF) demo (diagnostic harness).

  This is an algorithmic demo (no gradient training) that stores random phase
  patterns as attractors and recalls them from noisy and partial cues. It is a
  reference substrate for RMF-style successor fields, not the production MOSAIC
  cache.

defaults:
  data: { tokenizer: none, val_frac: 0.0 }
  logging: { instrument: rich, wandb: false, wandb_project: "", wandb_entity: "", eval_iters: 0 }
  runtime: { save_every: 1 }

targets:
  - type: experiment
    name: resonant_memory_field_demo
    description: "Run RMF substrate demo and write artifacts."
    backend: torch
    task: { ref: task.language_modeling, config: {} }
    data:
      ref: dataset.none
      impl: python:caramba.lab.unknown_format.dataset:UnknownFormatLabDataset
      config: { seed: 1, n_items: 1 }
    system: { ref: system.generic, config: {} }
    objective:
      ref: objective.none
      impl: python:caramba.trainer.objectives:KeyedMSEObjective
      config: {}
    trainer:
      ref: trainer.resonant_memory_field_demo
      impl: python:caramba.lab.resonant.associative_memory_demo:AssociativeMemoryDemoTrainer
      config:
        output_dir: artifacts/resonant_memory_field/demo
        seed: 123
        units: 64
        patterns: 5
        dtype: c128
        noise_std: 0.65
        known_frac: 0.28
        steps: 500
        dt: 0.05
        rerank_top_k: 64
    runs:
      - id: demo
        mode: train
        exp: resonant_memory_field_demo
        seed: 1
        steps: 1
        expected: {}

entrypoints:
  default: resonant_memory_field_demo

